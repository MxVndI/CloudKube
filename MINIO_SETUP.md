# Настройка MinIO для CloudKube

## Описание

Приложение CloudKube автоматически загружает дефолтное изображение `defaultimage.png` в MinIO при старте.

## Что происходит при запуске

1. **Автоматическая инициализация**: Класс `MinioInitializer` запускается при старте приложения
2. **Загрузка дефолтного изображения**: Файл `defaultimage.png` из ресурсов автоматически загружается в MinIO
3. **Использование существующего сервиса**: Загрузка происходит через ваш рабочий `ImageService`

## Конфигурация

Убедитесь, что в `.env` файле настроены следующие переменные:

```env
MINIO_BUCKET=your-bucket-name
MINIO_URL=http://localhost:9000
MINIO_ACCESS_KEY=your-access-key
MINIO_SECRET_KEY=your-secret-key
```

## Логи

При успешной загрузке дефолтного изображения вы увидите в логах:

```
Default image uploaded successfully to MinIO with filename: [generated-filename]
```

## Структура файлов

- `MinioInitializer.java` - автоматическая загрузка при старте
- `ImageServiceImpl.java` - обработка дефолтного изображения при ошибках
- `defaultimage.png` - дефолтное изображение в ресурсах

## Примечания

- Дефолтное изображение загружается с `userId = 0`
- Если у пользователя нет изображения, автоматически возвращается дефолтное
- Bucket создается автоматически, если не существует
